# دليل الاستخدام الشامل - نظام إدارة السوبر ماركت

## جدول المحتويات
1. [البدء السريع](#البدء-السريع)
2. [إدارة الفئات](#إدارة-الفئات)
3. [إدارة المنتجات](#إدارة-المنتجات)
4. [إدارة الموردين](#إدارة-الموردين)
5. [نقطة البيع](#نقطة-البيع)
6. [إدارة المشتريات](#إدارة-المشتريات)
7. [إدارة المصروفات](#إدارة-المصروفات)
8. [إدارة المخزون](#إدارة-المخزون)
9. [التقارير والإحصائيات](#التقارير-والإحصائيات)

---

## البدء السريع

### أول مرة تستخدم البرنامج؟

#### الخطوة 1: التشغيل
- انقر مرتين على ملف `run.bat`
- أو افتح Command Prompt واكتب: `python main.py`

#### الخطوة 2: إضافة الفئات
قبل إضافة المنتجات، يجب إضافة فئات لتنظيم المنتجات:
1. اضغط على زر "📊 الفئات" من القائمة الجانبية
2. أدخل اسم الفئة (مثال: مشروبات، معلبات، منظفات)
3. اضغط "إضافة"

**أمثلة على الفئات:**
- مشروبات
- معلبات
- مواد غذائية
- منظفات
- عناية شخصية
- أدوات منزلية

#### الخطوة 3: إضافة المنتجات
1. اذهب إلى "📦 المنتجات"
2. اضغط "إضافة منتج جديد"
3. املأ المعلومات:
   - اسم المنتج
   - الفئة
   - سعر الشراء (بالليرة والدولار)
   - سعر البيع (بالليرة والدولار)
   - الكمية الحالية
   - الحد الأدنى للتنبيه
   - الوحدة (قطعة، كيلو، ليتر، إلخ)
4. اضغط "حفظ"

---

## إدارة الفئات

### إضافة فئة جديدة
1. اضغط "📊 الفئات"
2. أدخل اسم الفئة في حقل "اسم الفئة"
3. أدخل وصف (اختياري)
4. اضغط "إضافة"

### تعديل فئة
1. اضغط على الفئة من الجدول
2. ستظهر البيانات في الحقول
3. عدّل البيانات
4. اضغط "تحديث"

### حذف فئة
1. اختر الفئة من الجدول
2. اضغط "حذف"
3. أكد الحذف

⚠️ **تنبيه:** حذف الفئة لن يحذف المنتجات المرتبطة بها

---

## إدارة المنتجات

### إضافة منتج جديد

#### الطريقة الأولى (موصى بها):
1. اضغط "📦 المنتجات"
2. اضغط "إضافة منتج جديد"
3. املأ جميع الحقول:

**المعلومات الأساسية:**
- **اسم المنتج**: اسم واضح ومميز
- **الفئة**: اختر من القائمة
- **الوحدة**: قطعة، كيلو، ليتر، علبة، إلخ

**الأسعار:**
- **سعر الشراء (ل.س)**: السعر الذي اشتريت به المنتج
- **سعر الشراء ($)**: بالدولار إذا كان الشراء بالدولار
- **سعر البيع (ل.س)**: السعر الذي تبيع به للزبائن
- **سعر البيع ($)**: بالدولار

**المخزون:**
- **الكمية**: الكمية الحالية في المخزون
- **الحد الأدنى**: عندما تصل الكمية لهذا الرقم ستحصل على تنبيه

**الوصف (اختياري):**
- معلومات إضافية عن المنتج

4. اضغط "حفظ"

### البحث عن منتج
- استخدم حقل البحث في الأعلى
- اكتب أي جزء من اسم المنتج أو الفئة

### تعديل منتج
- انقر مرتين على المنتج من الجدول
- أو انقر بالزر الأيمن واختر "تعديل"
- عدّل المعلومات واضغط "حفظ"

### حذف منتج
- انقر بالزر الأيمن على المنتج
- اختر "حذف"
- أكد الحذف

---

## إدارة الموردين

### إضافة مورد جديد
1. اضغط "🏪 الموردين"
2. املأ المعلومات:
   - **اسم المورد**: الاسم الكامل أو اسم الشركة
   - **رقم الهاتف**: للتواصل
   - **العنوان**: عنوان المورد
   - **الديون (ل.س)**: إذا كان هناك دين قديم
   - **الديون ($)**: بالدولار
   - **ملاحظات**: أي معلومات إضافية
3. اضغط "إضافة"

### تعديل بيانات مورد
1. اضغط على المورد من الجدول
2. عدّل البيانات
3. اضغط "تحديث"

### حذف مورد
1. اختر المورد
2. اضغط "حذف"
3. أكد الحذف

💡 **نصيحة:** الديون تُحدّث تلقائياً عند إضافة مشتريات جديدة

---

## نقطة البيع

### إتمام عملية بيع

#### الخطوات:
1. **اضغط "💰 نقطة البيع"**

2. **ابحث عن المنتج:**
   - استخدم حقل البحث
   - اكتب اسم المنتج
   - ستظهر المنتجات المطابقة

3. **إضافة المنتج للسلة:**
   - انقر مرتين على المنتج
   - أدخل الكمية المطلوبة
   - اضغط "إضافة"
   - سيتم إضافة المنتج للسلة

4. **إضافة منتجات أخرى:**
   - كرر الخطوة السابقة لكل منتج

5. **الخصم (اختياري):**
   - أدخل قيمة الخصم بالليرة أو الدولار

6. **طريقة الدفع:**
   - اختر: نقدي، بطاقة، أو آجل

7. **ملاحظات (اختياري):**
   - اكتب أي ملاحظات على الفاتورة

8. **إتمام البيع:**
   - اضغط "✓ إتمام البيع"
   - ستظهر رسالة تأكيد برقم الفاتورة

#### بعد إتمام البيع:
- يتم تحديث المخزون تلقائياً
- يتم تسجيل البيع في قاعدة البيانات
- تُفرغ السلة للبيع التالي

### إزالة منتج من السلة
- اختر المنتج من جدول السلة
- اضغط "حذف من السلة"

### مسح السلة
- اضغط "مسح السلة"
- أكد العملية

---

## إدارة المشتريات

### إضافة مشتريات جديدة

#### الخطوات:
1. **اضغط "📥 المشتريات"**
2. **اضغط "+ إضافة مشتريات جديدة"**

3. **اختر المورد (اختياري):**
   - اختر المورد من القائمة
   - أو اترك الحقل فارغاً

4. **إضافة المنتجات:**
   - اختر المنتج من القائمة
   - أدخل الكمية
   - اضغط "إضافة"
   - كرر لكل منتج

5. **معلومات الدفع:**
   - **طريقة الدفع**: نقدي، بطاقة، آجل، أو شيك
   - **المبلغ المدفوع (ل.س)**: المبلغ المدفوع الآن
   - **المبلغ المدفوع ($)**: بالدولار
   - **ملاحظات**: أي ملاحظات

6. **اضغط "✓ حفظ المشتريات"**

#### ماذا يحدث بعد الحفظ؟
- يتم تحديث المخزون (زيادة الكميات)
- إذا كان المبلغ المدفوع أقل من الإجمالي، يتم تحديث ديون المورد
- يتم تسجيل حركة المخزون

### عرض تفاصيل مشتريات
- انقر مرتين على أي مشتريات من الجدول
- ستظهر نافذة بالتفاصيل الكاملة

---

## إدارة المصروفات

### إضافة مصروف جديد

1. **اضغط "💸 المصروفات"**

2. **املأ المعلومات:**
   - **فئة المصروف**: رواتب، إيجار، كهرباء، ماء، صيانة، إلخ
   - **الوصف**: وصف تفصيلي للمصروف
   - **المبلغ (ل.س)**: قيمة المصروف بالليرة
   - **المبلغ ($)**: قيمة المصروف بالدولار
   - **التاريخ**: تاريخ المصروف (افتراضياً اليوم)

3. **اضغط "إضافة"**

### عرض إجمالي المصروفات
- يظهر في أسفل الشاشة
- إجمالي بالليرة وبالدولار

### حذف مصروف
- انقر بالزر الأيمن على المصروف
- اختر "حذف"
- أكد الحذف

💡 **نصيحة:** سجّل جميع المصروفات للحصول على تقرير دقيق عن الأرباح

---

## إدارة المخزون

### عرض المخزون

1. **اضغط "📦 المخزون"**

2. **الفلترة:**
   - **الكل**: عرض جميع المنتجات
   - **قريب من النفاد**: المنتجات التي وصلت للحد الأدنى
   - **نفذ من المخزون**: المنتجات التي انتهت

3. **البحث:**
   - استخدم حقل البحث للبحث عن منتج معين

### فهم ألوان الصفوف

- 🟢 **أخضر**: الكمية كافية
- 🟡 **أصفر فاتح**: قريب من النفاد
- 🔴 **أحمر**: نفذ من المخزون

### تعديل كمية منتج

#### الطريقة اليدوية:
1. انقر مرتين على المنتج
2. اختر نوع العملية:
   - **إضافة**: زيادة الكمية (مثل: استلام بضاعة)
   - **سحب**: تقليل الكمية (مثل: تالف، عينة)
3. أدخل الكمية
4. أدخل السبب
5. اضغط "حفظ"

💡 **ملاحظة:** المبيعات والمشتريات تحدث المخزون تلقائياً

### تتبع حركة المخزون
- جميع التغييرات تُسجل في جدول `inventory_movements`
- يمكنك معرفة متى ولماذا تغيرت الكمية

---

## التقارير والإحصائيات

### إنشاء تقرير

1. **اضغط "📈 التقارير"**

2. **اختر نوع التقرير:**
   - **المبيعات**: تقرير شامل عن المبيعات
   - **المشتريات**: تقرير عن المشتريات
   - **المصروفات**: تقرير مفصل عن المصروفات
   - **الأرباح**: تقرير الأرباح والخسائر
   - **أفضل المنتجات**: أكثر المنتجات مبيعاً
   - **الموردين**: تقرير عن الموردين والديون

3. **اختر الفترة:**
   - **اليوم**: فقط اليوم
   - **الأسبوع**: آخر 7 أيام
   - **الشهر**: آخر 30 يوم
   - **السنة**: آخر 365 يوم
   - **مخصص**: حدد من تاريخ إلى تاريخ

4. **اضغط "إنشاء التقرير"**

### أنواع التقارير بالتفصيل

#### 1. تقرير المبيعات
**يعرض:**
- عدد المبيعات
- إجمالي المبيعات بالليرة والدولار
- الخصومات
- جدول تفصيلي بكل عملية بيع

**متى تستخدمه:**
- لمعرفة حجم المبيعات اليومية/الشهرية
- لمقارنة المبيعات بين فترات مختلفة

#### 2. تقرير المشتريات
**يعرض:**
- عدد المشتريات
- إجمالي المشتريات
- المشتريات حسب المورد

**متى تستخدمه:**
- لمراجعة ما تم شراؤه
- لتتبع المشتريات من موردين معينين

#### 3. تقرير المصروفات
**يعرض:**
- إجمالي المصروفات
- المصروفات مقسمة حسب الفئات
- أكثر فئات المصروفات

**متى تستخدمه:**
- لمعرفة أين تذهب الأموال
- لتقليل المصروفات غير الضرورية

#### 4. تقرير الأرباح (الأهم! 💰)
**يعرض:**
- الإيرادات (من المبيعات)
- تكلفة البضاعة المباعة
- الربح الإجمالي = الإيرادات - التكلفة
- المصروفات
- **الربح الصافي = الربح الإجمالي - المصروفات**

**كيف يتم الحساب:**
```
الإيرادات: مجموع المبيعات
تكلفة البضاعة: سعر شراء المنتجات المباعة
الربح الإجمالي: الإيرادات - تكلفة البضاعة
الربح الصافي: الربح الإجمالي - المصروفات
```

**متى تستخدمه:**
- نهاية كل يوم/أسبوع/شهر
- لمعرفة هل المحل رابح أم خاسر
- لاتخاذ قرارات تجارية

#### 5. تقرير أفضل المنتجات
**يعرض:**
- المنتجات الأكثر مبيعاً
- الكمية المباعة من كل منتج
- إجمالي مبيعات كل منتج

**متى تستخدمه:**
- لمعرفة ما يحبه الزبائن
- لزيادة المخزون من المنتجات الرائجة
- لإيقاف المنتجات قليلة المبيعات

#### 6. تقرير الموردين
**يعرض:**
- جميع الموردين
- عدد المشتريات من كل مورد
- الديون المتبقية لكل مورد

**متى تستخدمه:**
- لمراجعة الديون
- لمعرفة أكثر الموردين تعاملاً

---

## نصائح وإرشادات مهمة

### 1. النسخ الاحتياطي 💾
**مهم جداً!**
- انسخ ملف `database/supermarket.db` كل يوم
- احتفظ بنسخة على فلاش ميموري أو سحابة
- النسخ الاحتياطي يحميك من فقدان البيانات

**كيف:**
1. أغلق البرنامج
2. اذهب إلى مجلد `database`
3. انسخ ملف `supermarket.db`
4. احفظه في مكان آمن مع التاريخ في الاسم مثل: `supermarket_2025_01_15.db`

### 2. إدارة الأسعار 💵
- حدّث أسعار الشراء عند تغيرها
- احسب هامش الربح المناسب
- راجع الأسعار بانتظام

**مثال حساب هامش الربح:**
```
سعر الشراء: 1000 ل.س
هامش ربح 20%: 1000 × 1.2 = 1200 ل.س
سعر البيع: 1200 ل.س
```

### 3. إدارة المخزون 📦
- ضع حد أدنى مناسب لكل منتج
- راجع تنبيهات المخزون يومياً
- لا تدع المنتجات تنفد
- اشترِ المنتجات الرائجة بكميات أكبر

### 4. المراجعة الدورية 📊
**يومياً:**
- راجع مبيعات اليوم
- تحقق من المخزون

**أسبوعياً:**
- راجع تقرير الأرباح
- راجع أفضل المنتجات

**شهرياً:**
- راجع جميع التقارير
- راجع الديون مع الموردين
- خطط للشهر القادم

### 5. تنظيم البيانات 📝
- استخدم أسماء واضحة للمنتجات
- صنف المنتجات في فئات منطقية
- سجّل جميع المصروفات (حتى الصغيرة)
- أضف ملاحظات مفيدة

### 6. الأمان 🔒
- لا تشارك ملف قاعدة البيانات مع أحد
- اصنع كلمة سر للكمبيوتر
- أغلق البرنامج عند الانتهاء

### 7. الأخطاء الشائعة ⚠️
**تجنب:**
- إدخال أسعار خاطئة
- نسيان تسجيل المصروفات
- عدم تحديث المخزون يدوياً عند التلف
- البيع بسعر أقل من التكلفة

---

## حل المشاكل الشائعة

### المشكلة: لا تظهر المنتجات في نقطة البيع
**الحل:**
- تأكد من أن الكمية المتوفرة أكبر من صفر
- المنتجات التي كميتها صفر لا تظهر في نقطة البيع

### المشكلة: رسالة خطأ عند الحفظ
**الحل:**
- تأكد من ملء جميع الحقول المطلوبة
- تأكد من إدخال أرقام صحيحة في حقول الأسعار والكميات
- تأكد من عدم تكرار الأسماء (في الفئات مثلاً)

### المشكلة: البرنامج بطيء
**الحل:**
- امسح السجلات القديمة جداً (يدوياً من قاعدة البيانات)
- أو ابدأ قاعدة بيانات جديدة كل سنة

### المشكلة: فقدت البيانات
**الحل:**
- استرجع من النسخ الاحتياطي
- استبدل ملف `supermarket.db` بالنسخة الاحتياطية

---

## اختصارات لوحة المفاتيح

*(قد يتم إضافتها في إصدارات مستقبلية)*

---

## دعم فني

إذا واجهت أي مشاكل:
1. راجع هذا الدليل أولاً
2. تأكد من تثبيت جميع المكتبات بشكل صحيح
3. تحقق من ملف `supermarket.db` موجود

---

**نتمنى لك تجربة استخدام ممتعة ومبيعات رابحة! 🎉**
